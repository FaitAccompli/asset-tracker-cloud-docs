

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Transport and Data Protocol &mdash; Asset Tracker Cloud Example v11.3.6 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The four kinds of data" href="FourKindsOfData.html" />
    <link rel="prev" title="Device-to-Cloud Protocol" href="Index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../README.html">
          

          
            
            <img src="../../_static/logo-with-text-white.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                saga
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../project/Index.html">Project Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws/Index.html">Asset Tracker Cloud Example for AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app/Index.html">Cat Tracker Web Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firmware/Index.html">Cat Tracker Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devices/Index.html">Connect using a real device</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Index.html">Device-to-Cloud Protocol</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Transport and Data Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="FourKindsOfData.html">The four kinds of data</a></li>
<li class="toctree-l2"><a class="reference internal" href="SensorDataAndConfiguration.html">Device Data and Configuration</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guides/AutomateHEXFileBuilding.html">Automate building of HEX files for your nRF Connect SDK application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/CellGeolocations.html">Cell Geolocations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/Cloud-connectivity-and-protocols-for-the-Internet-of-Things.html">Cloud connectivity and protocols for the Internet of Things</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/CloudDifferences.html">Cloud Differences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/ETSI-EN-303-645.html">Cyber Security for Consumer Internet of Things: Baseline Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/Versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/SystemRequirements.html">System requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/Direnv.html">About <em>direnv</em></a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NordicSemiconductor/asset-tracker-cloud-docs">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://devzone.nordicsemi.com/search?q=AssetTrackerCloudExample#serpsort=date%20desc">DevZone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adr/README.html">Architecture Decision Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CODE_OF_CONDUCT.html">Code of Conduct</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../README.html">Asset Tracker Cloud Example</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../README.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="Index.html">Device-to-Cloud Protocol</a> &raquo;</li>
        
      <li>Transport and Data Protocol</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/NordicSemiconductor/asset-tracker-cloud-docs/blob/saga/docs/device-cloud-protocol/TransportAndData.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="transport-and-data-protocol">
<h1>Transport and Data Protocol<a class="headerlink" href="#transport-and-data-protocol" title="Permalink to this headline">¶</a></h1>
<p>The <em>Asset Tracker Cloud Example</em> uses LTE-m, MQTT and JSON as its main communication protocol between the device and the cloud.</p>
<div class="section" id="lte-m-for-the-cellular-connection">
<h2>LTE-m for the cellular connection<a class="headerlink" href="#lte-m-for-the-cellular-connection" title="Permalink to this headline">¶</a></h2>
<p>The firmware is configured to operate in LTE-m mode to connect to the cellular network. LTE-m provides global roaming capabilites which is a critical feature for an Asset Tracker. NB-IoT is supported as well.</p>
</div>
<div class="section" id="mqtt-as-the-transport-protocol">
<h2>MQTT as the transport protocol<a class="headerlink" href="#mqtt-as-the-transport-protocol" title="Permalink to this headline">¶</a></h2>
<p>The Asset Tracker Cloud Example uses MQTT to connect the device to the cloud provider. MQTT is the default protocol for IoT at the cloud providers this example currently focuses on: AWS, Microsoft Azure, and Google Cloud.</p>
</div>
<div class="section" id="json-as-the-data-format">
<h2>JSON as the data format<a class="headerlink" href="#json-as-the-data-format" title="Permalink to this headline">¶</a></h2>
<p>The Asset Tracker Cloud Example uses JSON to represent all transferred data.
If offers very good support in tooling and is human readable.
Especially during development its verbosity is valuable.</p>
<div class="section" id="possible-optimizations">
<h3>Possible Optimizations<a class="headerlink" href="#possible-optimizations" title="Permalink to this headline">¶</a></h3>
<p>As a data- and power-optimization technique it is recommended to look into denser data protocols, especially since the majority of IoT applications (like in the Cat Tracker example) will always send data in the same structure, only the values change.</p>
<p>Consider the GPS message:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;v&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;lng&quot;</span><span class="p">:</span> <span class="mf">10.414394</span><span class="p">,</span>
    <span class="nt">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">63.430588</span><span class="p">,</span>
    <span class="nt">&quot;acc&quot;</span><span class="p">:</span> <span class="mf">17.127758</span><span class="p">,</span>
    <span class="nt">&quot;alt&quot;</span><span class="p">:</span> <span class="mf">221.639832</span><span class="p">,</span>
    <span class="nt">&quot;spd&quot;</span><span class="p">:</span> <span class="mf">0.320966</span><span class="p">,</span>
    <span class="nt">&quot;hdg&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="mi">1566042672382</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In JSON notation this document (without newlines) has 114 bytes.
If the message were to be transferred using for example <a class="reference external" href="https://developers.google.com/protocol-buffers/">Protocol Buffers</a> the data can be encoded with only 62 bytes (a 46% improvement) (<a class="reference external" href="https://gist.github.com/coderbyheart/34a8e71ffe30af882407544567971efb">source code</a>).</p>
<p>Note that even though the savings in transferred data over the lifetime of a device are significant, there is an extra cost of maintaining the source code on the device side and on the cloud side that enables the use of a protocol that is not supported natively by the cloud provider.</p>
<p>See also: <a class="reference external" href="http://tutorials.jenkov.com/rion/rion-performance-benchmarks.html">RION Performance Benchmarks</a></p>
<p><a class="reference external" href="https://google.github.io/flatbuffers/">FlatBuffers</a> seems like the best candidate for a resource constraint device like the 9160.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="FourKindsOfData.html" class="btn btn-neutral float-right" title="The four kinds of data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Index.html" class="btn btn-neutral float-left" title="Device-to-Cloud Protocol" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019-2021, Nordic Semiconductor ASA | nordicsemi.no.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>